<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="CTS-3 #   咖喱铁路售票系统curry ticketing system -1
 约定 #    这次真的超级简单der
  CTS-3会测试前面已实现的功能，但不会加强，所以只要CTS-2能过就不会出现旧功能的问题
  对于一行命令输入，只报优先级最高的一个错误，报错优先级为：
命令名称 > 参数数量 > 参数合法性（从左至右） 其它情况请以功能描述要求的报错顺序为准
  概览 #  ​	本次CTS-3你需要实现的全部新功能（命令）如下表所示，详细要求请见下文。
   命令 参数1 参数2 参数3 参数4 参数5 功能描述     login Aadhaar卡号 姓名    用户登录，是购票的前序操作   logout      退出当前登录的用户账户   buyTicket 列车车次 出发站 目的站 席位代号 张数 用户购买车票   listOrder      查询已购买的车票    login #  ​"><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content><meta property="og:description" content="CTS-3 #   咖喱铁路售票系统curry ticketing system -1
 约定 #    这次真的超级简单der
  CTS-3会测试前面已实现的功能，但不会加强，所以只要CTS-2能过就不会出现旧功能的问题
  对于一行命令输入，只报优先级最高的一个错误，报错优先级为：
命令名称 > 参数数量 > 参数合法性（从左至右） 其它情况请以功能描述要求的报错顺序为准
  概览 #  ​	本次CTS-3你需要实现的全部新功能（命令）如下表所示，详细要求请见下文。
   命令 参数1 参数2 参数3 参数4 参数5 功能描述     login Aadhaar卡号 姓名    用户登录，是购票的前序操作   logout      退出当前登录的用户账户   buyTicket 列车车次 出发站 目的站 席位代号 张数 用户购买车票   listOrder      查询已购买的车票    login #  ​"><meta property="og:type" content="article"><meta property="og:url" content="https://Super-BUAA-2021.github.io/Java-HomeWork/docs/CTS/CTS-3/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2022-04-15T19:29:24+08:00"><title>Cts 3 | 面向对象的程序设计</title><link rel=manifest href=/Java-HomeWork/manifest.json><link rel=icon href=/Java-HomeWork/favicon.png type=image/x-icon><link rel=stylesheet href=/Java-HomeWork/book.min.82c5dbd23447cee0b4c2aa3ed08ce0961faa40e1fa370eee4f8c9f02e0d46b5f.css integrity="sha256-gsXb0jRHzuC0wqo+0Izglh+qQOH6Nw7uT4yfAuDUa18=" crossorigin=anonymous><script defer src=/Java-HomeWork/flexsearch.min.js></script>
<script defer src=/Java-HomeWork/en.search.min.afc75abddc000afb25a28d981b8fdff9cd02953514fa93a6d95c1a711c78bd19.js integrity="sha256-r8davdwACvsloo2YG4/f+c0ClTUU+pOm2VwacRx4vRk=" crossorigin=anonymous></script>
<script defer src=/Java-HomeWork/sw.min.e3fe574a0a73f41ab65bfa422f0900e37d2b9d2ca50572cea3deaf158cc4bdee.js integrity="sha256-4/5XSgpz9Bq2W/pCLwkA430rnSylBXLOo96vFYzEve4=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/Java-HomeWork/><span>面向对象的程序设计</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=/Java-HomeWork/docs/OOP-LAB/>Oop Lab</a><ul><li><a href=/Java-HomeWork/docs/OOP-LAB/LAB00/>Lab00</a></li><li><a href=/Java-HomeWork/docs/OOP-LAB/LAB01/>Lab01</a></li><li><a href=/Java-HomeWork/docs/OOP-LAB/LAB02/>Lab02</a></li><li><a href=/Java-HomeWork/docs/OOP-LAB/LAB03/>Lab03</a></li><li><a href=/Java-HomeWork/docs/OOP-LAB/LAB04/>Lab04</a></li><li><a href=/Java-HomeWork/docs/OOP-LAB/LAB05/>Lab05</a></li><li><a href=/Java-HomeWork/docs/OOP-LAB/LAB06/>Lab06</a></li><li><a href=/Java-HomeWork/docs/OOP-LAB/TEMPLATE/>Template</a></li></ul></li><li><span>Cts</span><ul><li><a href=/Java-HomeWork/docs/CTS/CTS-1/>Cts 1</a></li><li><a href=/Java-HomeWork/docs/CTS/CTS-2/>Cts 2</a></li><li><a href=/Java-HomeWork/docs/CTS/CTS-3/ class=active>Cts 3</a></li></ul></li><li><a href=/Java-HomeWork/docs/Resource/>Resource</a><ul></ul></li></ul><ul><li><a href=https://github.com/Super-BUAA-2021/Java-HomeWork target=_blank rel=noopener>Github</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/Java-HomeWork/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Cts 3</strong>
<label for=toc-control><img src=/Java-HomeWork/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#cts-3>CTS-3</a><ul><li><a href=#约定>约定</a></li><li><a href=#概览>概览</a></li><li><a href=#login>login</a></li><li><a href=#logout>logout</a></li><li><a href=#buyticket>buyTicket</a></li><li><a href=#listorder>listOrder</a></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=cts-3>CTS-3
<a class=anchor href=#cts-3>#</a></h1><blockquote><p>咖喱铁路售票系统curry ticketing system -1</p></blockquote><h2 id=约定>约定
<a class=anchor href=#%e7%ba%a6%e5%ae%9a>#</a></h2><ul><li><p>这次真的超级简单der</p></li><li><p>CTS-3会测试前面已实现的功能，但不会加强，所以只要CTS-2能过就不会出现旧功能的问题</p></li><li><p>对于一行命令输入，只报优先级最高的一个错误，报错优先级为：</p><p>命令名称 > 参数数量 > 参数合法性（从左至右） 其它情况请以功能描述要求的报错顺序为准</p></li></ul><h2 id=概览>概览
<a class=anchor href=#%e6%a6%82%e8%a7%88>#</a></h2><p>​ 本次CTS-3你需要实现的全部新功能（命令）如下表所示，详细要求请见下文。</p><table><thead><tr><th>命令</th><th>参数1</th><th>参数2</th><th>参数3</th><th>参数4</th><th>参数5</th><th>功能描述</th></tr></thead><tbody><tr><td>login</td><td>Aadhaar卡号</td><td>姓名</td><td></td><td></td><td></td><td>用户登录，是购票的前序操作</td></tr><tr><td>logout</td><td></td><td></td><td></td><td></td><td></td><td>退出当前登录的用户账户</td></tr><tr><td>buyTicket</td><td>列车车次</td><td>出发站</td><td>目的站</td><td>席位代号</td><td>张数</td><td>用户购买车票</td></tr><tr><td>listOrder</td><td></td><td></td><td></td><td></td><td></td><td>查询已购买的车票</td></tr></tbody></table><h2 id=login>login
<a class=anchor href=#login>#</a></h2><p>​</p><table><thead><tr><th>命令</th><th>参数1</th><th>参数2</th><th>功能描述</th></tr></thead><tbody><tr><td>login</td><td>Aadhaar卡号</td><td>姓名</td><td>用户登录，是购票的前序操作</td></tr></tbody></table><p>已注册用户通过该指令登录系统，登录后直到主动登出或者退出系统之前需维持当前登录状态，与超级管理员模式不冲突（不会不管不考）。</p><ul><li><p>输出</p><ul><li>登录成功输出<code>Login success</code></li></ul></li><li><p>异常处理</p><ul><li>命令不存在，输出<code>Command does not exist</code></li><li>参数数量不正确，输出<code>Arguments illegal</code></li><li>当前已有用户登录，输出<code>You have logged in</code></li><li>Aadhaar卡号不合法或不存在，输出<code>User does not exist</code></li><li>姓名与卡号不对应，输出<code>Wrong name</code></li></ul></li><li><p>样例</p><pre tabindex=0><code>-addUser LaoWang M 002301220991
-Name:LaoWang
 Sex:M
 Aadhaar:002301220991

-login 002301220991 LaoWang
-Login success
</code></pre></li></ul><h2 id=logout>logout
<a class=anchor href=#logout>#</a></h2><table><thead><tr><th>命令</th><th>功能描述</th></tr></thead><tbody><tr><td>logout</td><td>退出当前登录的用户账户</td></tr></tbody></table><p>已登录用户通过该指令退出登录状态，用以切换其它账号。</p><ul><li><p>输出</p><ul><li>登出成功输出<code>Logout success</code></li></ul></li><li><p>异常处理</p><ul><li>命令不存在，输出<code>Command does not exist</code></li><li>参数数量不正确（不为零），输出<code>Arguments illegal</code></li><li>当前无用户登录，输出<code>No user has logged in</code></li></ul></li><li><p>样例</p></li></ul><pre tabindex=0><code>-addUser LaoWang M 002301220991
-Name:LaoWang
 Sex:M
 Aadhaar:002301220991
 
-login 002301220991 LaoWang
-Login success

-logout
-Logout success
</code></pre><h2 id=buyticket>buyTicket
<a class=anchor href=#buyticket>#</a></h2><table><thead><tr><th>命令</th><th>参数1</th><th>参数2</th><th>参数3</th><th>参数4</th><th>参数5</th><th>功能描述</th></tr></thead><tbody><tr><td>buyTicket</td><td>列车车次</td><td>出发站</td><td>目的站</td><td>席位代号</td><td>张数</td><td>用户购买车票</td></tr></tbody></table><p>已登录用户通过该指令购买车票，车票来源于CTS-2中添加的车次的初始票数，每次购买后从当前余票中减去购买的数量。购买的车票信息需保存起来直到系统退出。</p><p>席位代号包括 [ CC、SB、GG、SC、HC、1A、2A ]。</p><ul><li><p>输出</p><ul><li>购买成功输出<code>Thanks for your order</code></li></ul></li><li><p>异常处理</p><ul><li>命令不存在，输出<code>Command does not exist</code></li><li>参数数量不正确，输出<code>Arguments illegal</code></li><li>当前无用户登录，输出<code>Please login first</code></li><li>列车车次不存在，输出<code>Train does not exist</code></li><li>出发站或目的站不存在（地球上不存在或该车次不经过该车站），输出<code>Station does not exist</code></li><li>席位代号与车次类型不符（席位代号非法或该车次没有这种席位），输出<code>Seat does not match</code></li><li>张数不为正整数，输出<code>Ticket number illegal</code></li><li>张数大于该车次该席位的剩余票数，输出<code>Ticket does not enough</code></li></ul></li><li><p>样例</p></li></ul><pre tabindex=0><code>-TunakTunakTun
-DuluDulu

-addLine Line13 4 Dazhongshi 28 Zhichunlu 30 Wudaokou 48 Shangdi 96 Xierqi 121 Longze 148
-Add Line success

-addTrain K1151 Line13 22 90 7 120
-Add Train Success

-addUser LaoWang M 002301220991
-Name:LaoWang
 Sex:M
 Aadhaar:002301220991
 
-login 002301220991 LaoWang
-Login success

-buyTicket K1151 Zhichunlu Wudaokou 1A 10
-Thanks for your order
</code></pre><h2 id=listorder>listOrder
<a class=anchor href=#listorder>#</a></h2><table><thead><tr><th>命令</th><th>功能描述</th></tr></thead><tbody><tr><td>listOrder</td><td>查询已购买的车票</td></tr></tbody></table><p>已登录用户通过该指令查询当前账号下已购买的车票，按照指定格式打印订单信息</p><p>注：从系统开始运行到退出系统期间，用户的订单信息始终保留，即使登出再登录后仍能查看历史订单。</p><ul><li><p>输出</p><p>若历史订单不为空，按照最近购买日期优先顺序（下单顺序的倒序）输出订单信息，总价保留两位小数，格式为：</p><pre tabindex=0><code>[[列车车次]: [出发站]-&gt;[目的站]] seat:[席别代号] num:[张数] price:[总价(保留两位小数)]
</code></pre><p>若历史订单为空，输出<code>No order</code></p></li><li><p>异常处理</p><ul><li>命令不存在，输出<code>Command does not exist</code></li><li>参数数量不正确（不为零），输出<code>Arguments illegal</code></li><li>当前无用户登录，输出<code>Please login first</code></li></ul></li><li><p>样例</p><pre tabindex=0><code>-TunakTunakTun
-DuluDulu

-addLine Line13 4 Dazhongshi 28 Zhichunlu 30 Wudaokou 48 Shangdi 96 Xierqi 121 Longze 148
-Add Line success

-addTrain K1151 Line13 22 90 7 120
-Add Train Success

-addUser LaoWang M 002301220991
-Name:LaoWang
 Sex:M
 Aadhaar:002301220991

-login 002301220991 LaoWang
-Login success

-buyTicket K1151 Zhichunlu Wudaokou 1A 10
-Thanks for your order

-buyTicket K1151 Dazhongshi Shangdi 2A 20
-Thanks for your order

-listOrder
-[K1151: Dazhongshi-&gt;Shangdi] seat:2A num:20 price:9520.00
 [K1151: Zhichunlu-&gt;Wudaokou] seat:1A num:10 price:3960.00
</code></pre></li></ul></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/alex-shpak/hugo-book/commit/bb925e925abbe2f351b6bf28dea0d5b886086917 title="Last modified by withinlover | April 15, 2022" target=_blank rel=noopener><img src=/Java-HomeWork/svg/calendar.svg class=book-icon alt=Calendar>
<span>April 15, 2022</span></a></div><div><a class="flex align-center" href=https://github.com/alex-shpak/hugo-book/edit/main/exampleSite/content/docs/CTS/CTS-3.md target=_blank rel=noopener><img src=/Java-HomeWork/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div></div><script>(function(){function e(n){const e=window.getSelection(),t=document.createRange();t.selectNodeContents(n),e.removeAllRanges(),e.addRange(t)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script><script>MathJax={tex:{inlineMath:[["$","$"]]},displayMath:[["$$","$$"],["[[","]]"]],svg:{fontCache:"global"}}</script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#cts-3>CTS-3</a><ul><li><a href=#约定>约定</a></li><li><a href=#概览>概览</a></li><li><a href=#login>login</a></li><li><a href=#logout>logout</a></li><li><a href=#buyticket>buyTicket</a></li><li><a href=#listorder>listOrder</a></li></ul></li></ul></nav></div></aside></main></body></html>